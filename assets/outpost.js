function activeSibling(){this.setActiveSibling=function(a,b){a.siblings().removeClass(b),a.addClass(b)}}flight.component(function(){var a,b=3e4;this.after("initialize",function(){this.start()}),this.start=function(){this.tick(),a=setInterval(this.tick.bind(this),b)},this.stop=function(){clearInterval(a)},this.tick=function(){this.trigger("dataClockTick",{time:new Date})}}).attachTo(document),flight.component(activeSibling,function(){this.attributes({activeTabClass:"tabbed-content__tab--active",activePanelClass:"tabbed-content__panel--active",tabSelector:".tabbed-content__tab",panelSelector:".tabbed-content__panel"}),this.after("initialize",function(){this.on("uiTabClick",this.handleTabClick),this.on("uiRequestActivePanel",this.handleActivePanelRequest),this.on("uiActivePanelChange",this.handleActivePanelChange),this.on("click",{tabSelector:"uiTabClick"})}),this.getTabByPanelId=function(a){return $(this.attr.tabSelector+'[aria-controls="'+a+'"]',this.$node)},this.getTabPanelId=function(a){return a.getAttribute("aria-controls")},this.handleActivePanelChange=function(a,b){this.setActiveTab(this.getTabByPanelId(b.id))},this.handleActivePanelRequest=function(a,b){console.log("Show panel "+b.id),this.setActivePanel($(document.getElementById(b.id)))},this.handleTabClick=function(a){this.trigger("uiRequestActivePanel",{id:this.getTabPanelId(a.target)})},this.setActivePanel=function(a){this.setActiveSibling(a,this.attr.activePanelClass),this.trigger("uiActivePanelChange",{id:a.attr("id")})},this.setActiveTab=function(a){this.setActiveSibling(a,this.attr.activeTabClass)}}).attachTo(".tabbed-content"),flight.component(function(){var a=60,b=60*a,c=90*a,d=24*b,e=30.4375*d,f=365.25*d;this.attributes({ageSelector:".template-index__age"}),this.after("initialize",function(){this.updateAges(new Date),this.on(document,"dataClockTick",this.handleClockTick)}),this.formatAgeString=function(a,b,c){return a+" "+(1==a?b:c)+" ago"},this.handleClockTick=function(a,b){this.updateAges(b.time)},this.makeAgeString=function(b){return b<a?"Just now":b<c?this.formatAgeString(this.secondsToMinutes(b),"minute","minutes"):b<d?this.formatAgeString(this.secondsToHours(b),"hour","hours"):b<e?this.formatAgeString(this.secondsToDays(b),"day","days"):b<f?this.formatAgeString(this.secondsToMonths(b),"month","months"):this.formatAgeString(this.secondsToYears(b),"year","years")},this.secondsToDays=function(a){return Math.round(a/d)},this.secondsToHours=function(a){return Math.round(a/b)},this.secondsToMinutes=function(b){return Math.round(b/a)},this.secondsToMonths=function(a){return Math.round(a/e)},this.secondsToYears=function(a){return Math.round(a/f)},this.updateAges=function(a){var b=this,c=Math.floor(a.getTime()/1e3);this.select("ageSelector").each(function(){var a=$(this).data("timeModified");$(this).html(b.makeAgeString(c-a))})}}).attachTo(".template-index"),flight.component(activeSibling,function(){var a;this.attributes({activeBreakpointClass:"resizer__breakpoint--current",breakpointSelector:".resizer__breakpoint",previewSelector:".resizer__preview",previewContainerSelector:".resizer__preview-container"}),this.after("initialize",function(){this.initializePym(),this.on("uiBreakpointClick",this.handleBreakpointClick),this.on("uiResize",this.handleResize),this.on("uiRequestResize",this.handleResizeRequest),this.on("click",{breakpointSelector:"uiBreakpointClick"})}),this.getBreakpointByWidth=function(a){return $(this.attr.breakpointSelector+'[data-breakpoint-size="'+a+'"]',this.$node)},this.getPreview=function(){return this.select("previewSelector")},this.getPreviewId=function(){return this.getPreview().attr("id")},this.getPreviewUrl=function(){return this.getPreview().data("previewUrl")},this.handleBreakpointClick=function(a){var b=$(a.target).closest(this.attr.breakpointSelector);this.trigger("uiRequestResize",{width:b.data("breakpointSize")})},this.handleResize=function(a,b){this.setActiveBreakpoint(this.getBreakpointByWidth(b.width))},this.handleResizeRequest=function(a,b){this.setPreviewWidth(b.width),this.trigger("uiResize",{width:b.width})},this.initializePym=function(){a=new pym.Parent(this.getPreviewId(),this.getPreviewUrl(),{})},this.setActiveBreakpoint=function(a){this.setActiveSibling(a,this.attr.activeBreakpointClass)},this.setPreviewWidth=function(a){console.log("Set preview width to "+a),this.select("previewContainerSelector").width(a),this.triggerPymResize()},this.triggerPymResize=function(){a._onResize()}}).attachTo(".template-preview-widget");